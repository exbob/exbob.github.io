<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Shaocheng.Li"><meta name=description content="Lua （英语发音：/ˈluːə/）是一种轻量级的脚本语言，可以方便的嵌入到其他语言中，很易学习。它是用C语言编写的。广泛应用于游戏和 web 开发中。据说 Adobe Photoshop Lightroom 中 50% 的代码是有 Lua 写的。我学习这个语言是因为目前的项目要用到 LuCI 。
 Lua 的主页：http://www.lua.org 中国开发者论坛：http://www.luaer.cn Lua 程序设计：http://book.luaer.cn Lua 在线手册：http://manual.luaer.cn 酷壳的 Lua 简明教程：http://coolshell.cn/articles/10739.html  1.Hello World Mac 平台默认已经安装了 Lua , 直接执行 lua 就可以进入它的 shell , 首先输出一个 Hello World , 语法很像 C , 结尾有没有分号都可以：
[18:54]~/ ❯ lua Lua 5.2.3 Copyright (C) 1994-2013 Lua.org, PUC-Rio &amp;gt; print(&amp;quot;Hello World&amp;quot;) Hello World &amp;gt;  也可以写一个脚本文件，直接执行：
[18:57]Workspace/ ❯ cat test.lua #!/usr/local/bin/lua print(&amp;quot;Hello World&amp;quot;) [18:57]Workspace/ ❯ ."><meta name=keywords content><meta name=robots content="noodp"><meta name=theme-color content="#252627"><link rel=canonical href=https://shaocheng.li/posts/2015/01/07/><title>Lua语言学习笔记 :: Shaocheng.Li — Hello Friends</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=https://shaocheng.li/main.min.73f55a8d452be4a71b2960620b80252cf69abd84d63fe7501abf0a39b1a70a78.css><link rel=stylesheet type=text/css href=https://shaocheng.li/css/custom.css><link rel=apple-touch-icon sizes=180x180 href=https://shaocheng.li/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://shaocheng.li/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://shaocheng.li/favicon-16x16.png><link rel=manifest href=https://shaocheng.li/site.webmanifest><link rel=mask-icon href=https://shaocheng.li/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=https://shaocheng.li/favicon.ico><meta name=msapplication-TileColor content="#252627"><meta name=theme-color content="#252627"><meta itemprop=name content="Lua语言学习笔记"><meta itemprop=description content="Lua （英语发音：/ˈluːə/）是一种轻量级的脚本语言，可以方便的嵌入到其他语言中，很易学习。它是用C语言编写的。广泛应用于游戏和 web 开发中。据说 Adobe Photoshop Lightroom 中 50% 的代码是有 Lua 写的。我学习这个语言是因为目前的项目要用到 LuCI 。
 Lua 的主页：http://www.lua.org 中国开发者论坛：http://www.luaer.cn Lua 程序设计：http://book.luaer.cn Lua 在线手册：http://manual.luaer.cn 酷壳的 Lua 简明教程：http://coolshell.cn/articles/10739.html  1.Hello World Mac 平台默认已经安装了 Lua , 直接执行 lua 就可以进入它的 shell , 首先输出一个 Hello World , 语法很像 C , 结尾有没有分号都可以：
[18:54]~/ ❯ lua Lua 5.2.3 Copyright (C) 1994-2013 Lua.org, PUC-Rio &gt; print(&#34;Hello World&#34;) Hello World &gt;  也可以写一个脚本文件，直接执行：
[18:57]Workspace/ ❯ cat test.lua #!/usr/local/bin/lua print(&#34;Hello World&#34;) [18:57]Workspace/ ❯ ."><meta itemprop=datePublished content="2015-01-07T08:00:00&#43;08:00"><meta itemprop=dateModified content="2015-01-07T08:00:00&#43;08:00"><meta itemprop=wordCount content="232"><meta itemprop=keywords content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shaocheng.li"><meta name=twitter:title content="Lua语言学习笔记"><meta name=twitter:description content="Lua （英语发音：/ˈluːə/）是一种轻量级的脚本语言，可以方便的嵌入到其他语言中，很易学习。它是用C语言编写的。广泛应用于游戏和 web 开发中。据说 Adobe Photoshop Lightroom 中 50% 的代码是有 Lua 写的。我学习这个语言是因为目前的项目要用到 LuCI 。
 Lua 的主页：http://www.lua.org 中国开发者论坛：http://www.luaer.cn Lua 程序设计：http://book.luaer.cn Lua 在线手册：http://manual.luaer.cn 酷壳的 Lua 简明教程：http://coolshell.cn/articles/10739.html  1.Hello World Mac 平台默认已经安装了 Lua , 直接执行 lua 就可以进入它的 shell , 首先输出一个 Hello World , 语法很像 C , 结尾有没有分号都可以：
[18:54]~/ ❯ lua Lua 5.2.3 Copyright (C) 1994-2013 Lua.org, PUC-Rio &gt; print(&#34;Hello World&#34;) Hello World &gt;  也可以写一个脚本文件，直接执行：
[18:57]Workspace/ ❯ cat test.lua #!/usr/local/bin/lua print(&#34;Hello World&#34;) [18:57]Workspace/ ❯ ."><meta property="article:published_time" content="2015-01-07 08:00:00 &#43;0800 &#43;0800"></head><body><div class=container><header class=header><span class=header__inner><a href=https://shaocheng.li/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>$ cd /home/</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://shaocheng.li/about/>About</a></li><li><a href=https://shaocheng.li/posts/>Posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle unselectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41C32.4934 41 41 32.4934 41 22 41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 minutes</p></div><article><h1 class=post-title><a href=https://shaocheng.li/posts/2015/01/07/>Lua语言学习笔记</a></h1><div class=post-content><p>Lua （英语发音：/ˈluːə/）是一种轻量级的脚本语言，可以方便的嵌入到其他语言中，很易学习。它是用C语言编写的。广泛应用于游戏和 web 开发中。据说 Adobe Photoshop Lightroom 中 50% 的代码是有 Lua 写的。我学习这个语言是因为目前的项目要用到 LuCI 。</p><ul><li>Lua 的主页：<a href=http://www.lua.org target=_blank>http://www.lua.org</a></li><li>中国开发者论坛：<a href=http://www.luaer.cn target=_blank>http://www.luaer.cn</a></li><li>Lua 程序设计：<a href=http://book.luaer.cn target=_blank>http://book.luaer.cn</a></li><li>Lua 在线手册：<a href=http://manual.luaer.cn target=_blank>http://manual.luaer.cn</a></li><li>酷壳的 Lua 简明教程：<a href=http://coolshell.cn/articles/10739.html target=_blank>http://coolshell.cn/articles/10739.html</a></li></ul><h2 id=1-hello-world>1.Hello World</h2><p>Mac 平台默认已经安装了 Lua , 直接执行 lua 就可以进入它的 shell , 首先输出一个 Hello World , 语法很像 C , 结尾有没有分号都可以：</p><pre><code>[18:54]~/ ❯ lua
Lua 5.2.3  Copyright (C) 1994-2013 Lua.org, PUC-Rio
&gt; print(&quot;Hello World&quot;)
Hello World
&gt; 
</code></pre><p>也可以写一个脚本文件，直接执行：</p><pre><code>[18:57]Workspace/ ❯ cat test.lua 
#!/usr/local/bin/lua
print(&quot;Hello World&quot;)
[18:57]Workspace/ ❯ ./test.lua 
Hello World
</code></pre><h2 id=2-基本语法>2.基本语法</h2><h3 id=注释>注释</h3><p>两个减号是行注释，两个减号加方括号是块注释：</p><pre><code>#!/usr/local/bin/lua
--行注释
--[[
块注释
--]]
print(&quot;Hello World&quot;)
</code></pre><h3 id=数据类型和变量>数据类型和变量</h3><p>Lua 支持动态数据类型，定义变量时无需声明类型，几个基本的数据类型有：</p><ul><li>字符串，用引号包含，单引号和双引号都可以；Lua 还支持 C 语言类型的转义字符，例如 \n 换行，\r 回车</li><li>实数，Lua 的数只有 double 型，64 bits 浮点数</li><li>布尔，true 和 false</li><li>空，Lua 的空类型用 nil 表示，没有声明过的变量就是 nil</li></ul><p><img src=https://shaocheng.li/images/2015-01-07/2015-01-07_1.JPG alt></p><blockquote><p>type 是一个函数，它会返回数据的类型</p></blockquote><p>Lua 中的变量分为全局变量和局部变量，未加说明的都是全局变量，用 local 关键字定义局部变量 ：</p><pre><code>theGlobalVar = 50
local theLocalVar = &quot;local variable&quot;
</code></pre><h3 id=表达式>表达式</h3><p>Lua 的表达式由数字，字符串，变量，运算符组成，运算符分为几个类别，和 C 语言很像：</p><ul><li>数学运算符：+-*/^ (加减乘除幂），- (负号），这些运算符只能用于实数</li><li>关系运算符：&lt; ，&gt; ，&lt;= ，&gt;= ，== ，还有一个 ~= 表示不等；比较结果返回 true 或 false ；如果两个值的类型不同，那么一定是不等的，nil 之和自己相等；比较字符串时，是按照字母的顺序进行的</li><li>逻辑运算符：and , or , not ；not 只会返回 true 和 false，除了 false 和 nil ，其他都是 true ，所以 <code>not nil</code> 就是 ture。and 和 or 返回的结果不是 true 或 false，而是和操作数有关：<code>a and b</code> &ndash; 如果a为false，则返回a，否则返回b；<code>a or b</code> &ndash; 如果a为true，则返回a，否则返回b</li><li>连接运算符：..(两个点)，用于连接字符串，如果操作符是数字，会连接后转为字符串。</li></ul><h3 id=控制语句>控制语句</h3><p>if 语句</p><pre><code>if conditions then
    then-part
end;

if conditions then
    then-part
else
    else-part
end;

if conditions then
    then-part
elseif conditions then
    elseif-part
..       ---&gt;多个elseif
else
    else-part
end;
</code></pre><p>while 循环</p><pre><code>while condition do
    statements;
end;
</code></pre><p>for 循环</p><pre><code>for var=exp1,exp2,exp3 do
    loop-part
end
</code></pre><p>exp1 是初始值，exp2 是终止值，exp3是每一步的间隔，如果exp3，默认是1，例如：</p><p><img src=https://shaocheng.li/images/2015-01-07/2015-01-07_2.JPG alt></p><h3 id=函数>函数</h3><p>函数的定义以 function 关键字开头，以 end 结尾，可以返回多个值。</p><p>Lua 有个特别的语法，就是可以一行为多个变量赋值，那么多个返回值就可以依次赋给多个变量。如果值的数量比变量多，多余的会舍弃；如果变量比值多，后面的变量会被赋 nil 。</p><p><img src=https://shaocheng.li/images/2015-01-07/2015-01-07_3.JPG alt></p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>232 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2015-01-07 00:00 &#43;0000</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h></span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://shaocheng.li/posts/2015/01/10/><span class=button__icon>←</span>
<span class=button__text>Today Scripts —— 通过脚本打造自己的通知栏部件</span></a></span>
<span class="button next"><a href=https://shaocheng.li/posts/2014/12/31/><span class=button__text>2014-12-31</span>
<span class=button__icon>→</span></a></span></div></div><div id=comments class=thin><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"shaocheng-li"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2021</span>
<span><a href=https://shaocheng.li>Shaocheng.Li</a></span>
<span><a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></span>
<span><a href=https://shaocheng.li/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>Made with &#10084; by <a href=https://github.com/rhazdon>rhazdon</a></span></div></div></footer></div><script type=text/javascript src=https://shaocheng.li/bundle.min.2d5469329143160ae2456a69c3c76dc2d0a3b212b46afe291a51bd68650ed6f8697e001dab54f1c272c77ce08092a8c55e5bb4314e0ee334aab4b927ec896638.js integrity="sha512-LVRpMpFDFgriRWppw8dtwtCjshK0av4pGlG9aGUO1vhpfgAdq1TxwnLHfOCAkqjFXlu0MU4O4zSqtLkn7IlmOA=="></script></body></html>