<!doctype html><html lang=zh-Hans dir=Chinese-Simplified class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>Systemd 中实现自动登录和程序自启动 &#183; Shaocheng.Li</title>
<meta name=title content="Systemd 中实现自动登录和程序自启动 &#183; Shaocheng.Li"><script type=text/javascript src=/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=/css/main.bundle.min.5ecb2fb7650f9b878e0041d3064dab2c9fe0fc1a753a9015d386642c941c09e1.css integrity="sha256-Xssvt2UPm4eOAEHTBk2rLJ/g/Bp1OpAV04ZkLJQcCeE="><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.af5d9722112bedac95702865c340bcd6286c4e9b2c15ce26b531ea1fba974cb8.js integrity="sha256-r12XIhEr7ayVcChlw0C81ihsTpssFc4mtTHqH7qXTLg=" data-copy=复制 data-copied=已复制></script><meta name=description content="
      
        
      
    "><link rel=canonical href=https://shaocheng.li/posts/2021/03/06/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://shaocheng.li/posts/2021/03/06/"><meta property="og:site_name" content="Shaocheng.Li"><meta property="og:title" content="Systemd 中实现自动登录和程序自启动"><meta property="og:description" content="LiShaocheng's Blog"><meta property="og:locale" content="zh_Hans"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-03-06T21:19:11+08:00"><meta property="article:modified_time" content="2021-03-06T21:19:11+08:00"><meta property="article:tag" content="Untagged"><meta name=twitter:card content="summary"><meta name=twitter:title content="Systemd 中实现自动登录和程序自启动"><meta name=twitter:description content="LiShaocheng's Blog"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"Systemd 中实现自动登录和程序自启动","headline":"Systemd 中实现自动登录和程序自启动","inLanguage":"zh-Hans","url":"https:\/\/shaocheng.li\/posts\/2021\/03\/06\/","author":{"@type":"Person","name":"LiShaocheng"},"copyrightYear":"2021","dateCreated":"2021-03-06T21:19:11\u002b08:00","datePublished":"2021-03-06T21:19:11\u002b08:00","dateModified":"2021-03-06T21:19:11\u002b08:00","keywords":["untagged"],"mainEntityOfPage":"true","wordCount":"444"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://shaocheng.li/","name":"Shaocheng. Li","position":1},{"@type":"ListItem","item":"https://shaocheng.li/posts/","name":"Posts","position":2},{"@type":"ListItem","name":"Systemd 中实现自动登录和程序自启动","position":3}]}</script><meta name=author content="LiShaocheng"><link href=https://github.com/exbob rel=me></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span>跳到主要内容</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>Shaocheng.Li</a></div><ul class="flex list-none flex-col text-end sm:flex-row"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/posts/ title=Posts><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">文章列表</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><button id=search-button-1 title="搜索 (/)">
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><button id=appearance-switcher-1 type=button aria-label="appearance switcher">
<span class="group-dark:hover:text-primary-400 inline transition-colors group-hover:text-primary-600 dark:hidden" title=切换为深色模式><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg>
</span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span>
</span><span class="group-dark:hover:text-primary-400 hidden transition-colors group-hover:text-primary-600 dark:inline" title=切换为浅色模式><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg>
</span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></span></button></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Systemd 中实现自动登录和程序自启动</h1><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2021-03-06 21:19:11 +0800 +0800">2021 6 三月</time><span class="px-2 text-primary-500">&#183;</span><span>444 字</span><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>3 分钟</span></div></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="order-first px-0 lg:order-last lg:max-w-xs lg:ps-8"><div class="toc pe-5 lg:sticky lg:top-10 print:hidden"><details open class="-ms-5 mt-0 overflow-hidden rounded-lg ps-5"><summary class="block cursor-pointer bg-neutral-100 py-1 ps-5 text-lg font-semibold text-neutral-800 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="border-s border-dotted border-neutral-300 py-2 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#系统登录>系统登录</a></li><li><a href=#基于-x11-的-qt-应用自启动>基于 X11 的 Qt 应用自启动</a></li><li><a href=#文本界面的程序自启动>文本界面的程序自启动</a></li></ul></nav></div></details></div></div><div class="min-h-0 min-w-0 max-w-prose grow"><p>以 NXP 的 Yocto Linux 4.9.88 为例。</p><p>Systemd 管理系统资源的基本单元是 Unit ，分为 12 种：</p><pre tabindex=0><code>Service unit：系统服务
Target unit：多个 Unit 构成的一个组
Device Unit：硬件设备
Mount Unit：文件系统的挂载点
Automount Unit：自动挂载点
Path Unit：文件或路径
Scope Unit：不是由 Systemd 启动的外部进程
Slice Unit：进程组
Snapshot Unit：Systemd 快照，可以切回某个快照
Socket Unit：进程间通信的 socket
Swap Unit：swap 文件
Timer Unit：定时器
</code></pre><p>我们可以使用 systemd-analyze 命令来分析系统启动的过程：</p><pre tabindex=0><code># 查看启动耗时
$ systemd-analyze

# 查看每个服务的启动耗时
$ systemd-analyze blame

# 显示瀑布状的启动过程流
$ systemd-analyze critical-chain

# 显示指定服务的启动流
$ systemd-analyze critical-chain atd.service

# 将系统启动流程输出为 svg 格式，可以通过浏览器查看
systemd-analyze plot &gt; ./systemd.svg
</code></pre><p>Systemd 使用 Target 替换了 init 启动模式的 runlevel 概念。常用的分析命令：</p><pre tabindex=0><code># 查看当前系统的所有 Target
$ systemctl list-unit-files --type=target

# 查看一个 Target 包含的所有 Unit
$ systemctl list-dependencies multi-user.target

# 查看启动时的默认 Target
$ systemctl get-default

# 设置启动时的默认 Target
$ systemctl set-default multi-user.target

# 切换 Target 时，默认不关闭前一个 Target 启动的进程，systemctl isolate 命令可以改变这种行为，它会关闭前一个 Target 里面所有不属于后一个 Target 的进程
$ systemctl isolate multi-user.target
</code></pre><p>常用的两个 Target 是：</p><ul><li>multi-user.target , 多用户文本界面</li><li>graphical.target , 图形界面，在 multi-user.target 的基础上，增加了图形界面的相关单元。</li></ul><h2 id=系统登录 class="relative group">系统登录 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e7%b3%bb%e7%bb%9f%e7%99%bb%e5%bd%95 aria-label=锚点>#</a></span></h2><p>虚拟控制台（tty1&mldr;）的登录是 <code>getty@.service</code> 服务维护的，最终调用的是 agetty ：</p><pre tabindex=0><code>ExecStart=-/sbin/agetty -o &#39;-p -- \\u&#39; --noclear %I $TERM
</code></pre><p>启动服务时通过 <code>@</code> 符号向 agetty 传递一个参数，例如执行 <code>getty@tty1.service</code> ，启动的进程就是：</p><pre tabindex=0><code>/sbin/agetty -o -p -- \u --noclear tty1 linux
</code></pre><p>串口控制台的登录是 <code>serial-getty@.service</code> 服务维护的，最终调用的也是 agetty ：</p><pre tabindex=0><code>ExecStart=-/sbin/agetty -8 -L %I 115200 $TERM
</code></pre><p>这里传递的参数应该是串口设备文件，例如 <code>serial-getty@ttymxc0.service</code> 。</p><p><a href=https://man7.org/linux/man-pages/man8/agetty.8.html target=_blank rel=noreferrer>agetty</a> 有很多参数，&ndash;noclear 表示清除控制台显示的启动信息：</p><pre tabindex=0><code>-J, --noclear
              Do not clear the screen before prompting for the login
              name.  By default the screen is cleared.
</code></pre><p>-a 用于自动登录：</p><pre tabindex=0><code>-a, --autologin username
              Automatically log in the specified user without asking for
              a username or password.  Using this option causes an -f
              username option and argument to be added to the /bin/login
              command line.  See --login-options, which can be used to
              modify this option&#39;s behavior.

              Note that --autologin may affect the way in which getty
              initializes the serial line, because on auto-login agetty
              does not read from the line and it has no opportunity
              optimize the line setting.
</code></pre><p>要系统启动时在串口控制台自动登录 root 用户，可以做如下操作：</p><ol><li>新建 <code>/etc/systemd/system/serial-getty@ttymxc0.service.d/</code> 目录。</li><li>在上面新建的目录中添加 autologing.conf 文件。</li><li>在 autologing.conf 文件中添加如下内容：<pre tabindex=0><code>[Service]
ExecStart=
ExecStart=-/sbin/agetty -a root -8 -L %I 115200 $TERM
</code></pre></li></ol><p>这里利用的是 systemd 的附加配置片段功能，这个功能可以修改、重置或者追加配置选项。先创建名为 <code>/etc/systemd/system/&lt;Unit>.d/</code> 的目录，然后放入 <code>*.conf</code> 文件，其中可以添加或重置选项参数，这里设置的参数优先级高于原来的 Unit 配置文件。用 systemctl 命令会更简单：</p><pre tabindex=0><code>$ systemctl edit unit
</code></pre><p>这将会在编辑器中打开文件 <code>/etc/systemd/system/[unit].d/override.conf</code>，编辑完成之后自动加载。</p><h2 id=基于-x11-的-qt-应用自启动 class="relative group">基于 X11 的 Qt 应用自启动 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%9f%ba%e4%ba%8e-x11-%e7%9a%84-qt-%e5%ba%94%e7%94%a8%e8%87%aa%e5%90%af%e5%8a%a8 aria-label=锚点>#</a></span></h2><p>系统中启动 Qt 的服务是 xserver-nodm ，是通过 Yocto 的 <code>xserver-nodm-init_3.0.bb</code> 安装的。启动后调用了如下脚本：</p><pre tabindex=0><code>xserver-nodm.service
	/etc/xserver-nodm/Xserver - /etc/default/xserver-nodm 初始化一些环境变量
		exec xinit /etc/X11/Xsession -- $XSERVER $DISPLAY $ARGS $*
		xinit /etc/X11/Xsession -- /usr/bin/Xorg :0 -br -pn
</code></pre><p>最终干活的是 xinit ，这是 X Window 系统的启动器，它的功能是启动一个 X Server ，同时启动一个 X Client ，基本语法是：</p><pre tabindex=0><code>xinit [ [ client ] options ] [ -- [ server ] [ display ] options ]
</code></pre><p>在这里它执行了 <code>/etc/X11/Xsession</code> 脚本，Xsession 会按字母顺序执行 <code>/etc/X11/Xsession.d</code> 下面的脚本，在脚本内启动 Qt 应用，默认安装时会有很多：</p><pre tabindex=0><code>$ ls /etc/X11/Xsession.d/
13xdgbasedirs.sh  30xinput_calibrate.sh  70settings-daemon.sh  80matchboxkeyboard.sh  89xdgautostart.sh  90XWindowManager.sh
</code></pre><p>我们可以修改这里的脚本，来启动自己的 Qt 应用。例如，我们只想启动 /home/root/ 下的 basiclayouts ，可以将 <code>/etc/X11/Xsession.d/</code> 下的文件全部删掉，然后新建一个 10qtapp.sh ，内容如下：</p><pre tabindex=0><code>exec /home/root/basiclayouts
</code></pre><p>重启系统，basiclayouts 就会自动启动。</p><h2 id=文本界面的程序自启动 class="relative group">文本界面的程序自启动 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%96%87%e6%9c%ac%e7%95%8c%e9%9d%a2%e7%9a%84%e7%a8%8b%e5%ba%8f%e8%87%aa%e5%90%af%e5%8a%a8 aria-label=锚点>#</a></span></h2><p>默认情况下，系统启动的是图形目标：</p><pre tabindex=0><code>$ systemctl get-default
graphical.target
</code></pre><p>如不不需要图形界面，可以切换到多用户文本目标：</p><pre tabindex=0><code>$ systemctl set-default multi-user.target
Removed /etc/systemd/system/default.target.
Created symlink /etc/systemd/system/default.target → /lib/systemd/system/multi-user.target.
</code></pre><p>systemd 通过 rc-local.service 调用 /etc/rc.local 。需要开机时实现的程序，可以添加到 rc.local 文件中。</p></div></section><footer class="max-w-prose pt-8 print:hidden"><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=568 height=568 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt=LiShaocheng loading=lazy decoding=async src=/img/author.png></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">作者</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">LiShaocheng</div><div class="text-sm text-neutral-700 dark:text-neutral-400">A Linux software engineer.</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/exbob target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></div></div></div></div><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/posts/2020/12/12/><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span><span class="ltr:hidden rtl:inline">&rarr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">在 i.MX 6ULL 上学习 Yocto</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2020-12-12 18:40:11 +0800 +0800">2020 12 十二月</time>
</span></span></a></span><span><a class="group flex text-right" href=/posts/2021/04/10/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Linux 系统的 SPI 设备编程</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2021-04-10 21:19:11 +0800 +0800">2021 10 四月</time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span><span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div></footer></article></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label=回到顶部 title=回到顶部>&uarr;</a></div><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2025
LiShaocheng</p><p class="text-xs text-neutral-500 dark:text-neutral-400">由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://github.com/jpanther/congo target=_blank rel="noopener noreferrer">Congo</a> 强力驱动</p></div><div class="flex flex-row items-center"></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://shaocheng.li/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=搜索 tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="关闭 (Esc)">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>